{% extends 'onlybites_web/base.html' %}
{% block content %}

{% load static %}

<div class="row intro">
       
    <div class="col-lg-9 col-md-9 flex fl-direc-colum">
        <h1>Zure gustukoen  <span id='italic'>bite-ak</span> jateko prest?</h1>
        <div id="back-page-botton" ><a href="{% url 'menu' %}"> <img src="{% static 'img/icons/Arrow left-circle.svg' %}"></a></div>
       
    </div>
   
    
</div>
</div>
<div class="pink">
    <div class=" container flex flex-center ">
        <div class="flex fl-direc-row bor-top" id="p-details-bloc">
            <div id="pr-img">
                <!--   {% for image in images %}
                  <li> {{ image.path }} </li>
                  {% endfor %} -->
                  <img id="pr-img" src="{% static 'img/boloñesa.png' %}" alt="{{image.alt}}">
            </div>
            <div class="flex fl-direc-colum " id="p-details" >

                <div id="p-name"class="mb-2 flex">  
                    <h3>{{ product.name }}</h3>
                </div>
                
                <div class="flex fl-direc-colum mb-2" id="alergens">
                    {% for allergen in allergens %}
                    <div id="p-añergen">
                    <!--meter icono de alergeno-->
    
                     </div>
            
                    {% endfor %}
                </div>
               
                <div id="cal" class="mb-2 flex"> <p>{{ product.calories }} cal</p></div>
                  
                 <div id="p-description" class="mb-2">
                    <p>{{ product.description }}</p>
                 </div>
                 <!--price and add to cart button, display block at the end-->
                 <div class="flex fl-direct-row fl-justcon-sbetw  end-aligned">
                    <p class="f-w-bold playfair " >{{ product.price }}€</p>
                    <div>
                        <a class="incrementCartButton" id="{{ product.product_id }}">
                            <img class="cart-btn" id="plus-button" src="{% static 'img/icons/Plus-circle.svg' %}" />
                        </a>
                    </div>
                 </div>
                 <!--safe for vegand and celiac-->
                 <div class="mb-2 flex  fl-direc-row" >
                    {% if product.vegan %}
                        <div class="apt f-w-bold "><p class="playfair f-zie-18">Beganoa</p></div>
                    {% endif %}
                    {% if product.celiac %}
                    <div class="apt f-w-bold"><p class="playfair f-zie-18">Zeliakoentzat aptoa</p></div>
                    {% endif %}
                 </div>
                 
            </div>
        </div>
        <!--valoraciones-->
        
        
    </div>
    <div class="container  flex fl-direc-colum ">
        <div class="flex fl-direc-colum  mt-40 " id="val">
            <div class="mb-1">
                <h2>Balorazioak:</h2>
            </div>
            {% for valoration in valorations %}
            <div class="mb-1" >
                
                <div class="">
                    <p class="f-zie-18 f-w-bold">{{ valoration.profile.name }}:
                        <span>
                            {% for i in "*****" %}
                            {% if forloop.counter <= valoration.value %}
                                ★
                            {% else %}
                                ☆
                            {% endif %}
                        {% endfor %}
                        ({{ valoration.value }}/5) - {{ valoration.message }}
                        </span>
                    </p>
                </div>
                
            </div>
            
            {% endfor %}
            
        </div>
        <div class="fl-jc-end flex m">
            {% if user.is_authenticated %}
            <input type="hidden" id="productId" value="{{product.product_id}}"/>
            <a class="btn btn-orange" id="newValorationButton" role="button">Baloratu</a>
            {% endif %}
        </div>

        <div id="newValorationForm" class="popup shadow radius">
        </div>

    </div>
</div>
{% endblock %}